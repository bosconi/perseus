2017/12/19 06:43:06.862 tikv-server.rs:140: [WARN] Limit("kernel parameters net.core.somaxconn got 128, expect 32768")
2017/12/19 06:43:06.862 tikv-server.rs:140: [WARN] Limit("kernel parameters net.ipv4.tcp_syncookies got 1, expect 0")
2017/12/19 06:43:06.863 tikv-server.rs:140: [WARN] Limit("kernel parameters vm.swappiness got 60, expect 0")
2017/12/19 06:43:06.863 tikv-server.rs:145: [WARN] environment variable `TZ` is missing, use `/etc/localtime`
2017/12/19 06:43:09.195 util.rs:248: [ERROR] request failed: Grpc(RpcFinished(None))
2017/12/19 06:43:09.195 util.rs:248: [ERROR] request failed: Other(SendError("..."))
2017/12/19 06:43:09.195 util.rs:248: [ERROR] request failed: Other(SendError("..."))
2017/12/19 06:43:09.195 util.rs:220: [WARN] updating PD client, block the tokio core
2017/12/19 06:43:09.203 util.rs:182: [WARN] updating PD client done, spent Duration { secs: 0, nanos: 7811214 }
2017/12/19 06:43:18.110 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[93, 94], error Request(message: "region is stale" stale_epoch {new_regions {id: 2 start_key: "t\200\000\000\000\000\000\000\377\005\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 1 version: 2} peers {id: 3 store_id: 1}} new_regions {id: 6 end_key: "t\200\000\000\000\000\000\000\377\005\000\000\000\000\000\000\000\370" region_epoch {conf_ver: 1 version: 2} peers {id: 7 store_id: 1}}})
2017/12/19 06:43:25.212 scheduler.rs:229: [WARN] [region 16] scheduler handle command: prewrite, ts: 396798407501152264 [takes Duration { secs: 5, nanos: 32000000 }]
2017/12/19 06:43:25.212 scheduler.rs:229: [WARN] [region 16] scheduler handle command: prewrite, ts: 396798407501152264 [takes Duration { secs: 5, nanos: 32000000 }]
2017/12/19 06:43:25.217 scheduler.rs:229: [WARN] [region 16] scheduler handle command: prewrite, ts: 396798407501152264 [takes Duration { secs: 5, nanos: 40000000 }]
2017/12/19 06:43:27.408 scheduler.rs:229: [WARN] [region 18] scheduler handle command: prewrite, ts: 396798407501152264 [takes Duration { secs: 7, nanos: 228000000 }]
2017/12/19 06:43:27.409 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(TxnLockNotFound { start_ts: 396798407501152264, commit_ts: 396798409414541314, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 5, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 37, 0, 0, 0, 255, 0, 0, 0, 0, 248, 1, 114, 111, 255, 111, 116, 0, 0, 0, 0, 251, 0, 254] }))
2017/12/19 06:43:27.435 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(TxnLockNotFound { start_ts: 396798407894106117, commit_ts: 396798409414541318, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 5, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 37, 0, 0, 0, 255, 0, 0, 0, 0, 248, 1, 114, 111, 255, 111, 116, 0, 0, 0, 0, 251, 0, 254] }))
2017/12/19 06:43:27.697 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798409414541315, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 13, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 97, 117, 116, 111, 255, 95, 105, 110, 99, 255, 114, 101, 109, 255, 101, 110, 116, 95, 105, 255, 110, 99, 255, 114, 101, 109, 101, 110, 116, 255, 0, 255, 0, 0, 0, 0, 0, 0, 0, 247, 255, 0, 0, 0, 0, 0, 0, 0, 0, 247], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.699 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798409414541315, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 15, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 98, 111, 111, 116, 255, 115, 116, 114, 97, 255, 112, 112, 101, 255, 100, 0, 0, 0, 0, 251, 0, 0, 253], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.699 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798409414541315, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 13, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 109, 121, 105, 115, 255, 97, 109, 95, 114, 255, 101, 112, 97, 255, 105, 114, 95, 116, 104, 255, 114, 101, 255, 97, 100, 115, 0, 0, 0, 252, 0, 254], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.699 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798409414541315, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 5, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 37, 0, 0, 0, 255, 0, 0, 0, 0, 248, 1, 114, 111, 255, 111, 116, 0, 0, 0, 0, 251, 0, 254], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.725 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798408798765073, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 5, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 37, 0, 0, 0, 255, 0, 0, 0, 0, 248, 1, 114, 111, 255, 111, 116, 0, 0, 0, 0, 251, 0, 254], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.725 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798408798765073, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 15, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 98, 111, 111, 116, 255, 115, 116, 114, 97, 255, 112, 112, 101, 255, 100, 0, 0, 0, 0, 251, 0, 0, 253], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.725 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798408798765073, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 13, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 97, 117, 116, 111, 255, 95, 105, 110, 99, 255, 114, 101, 109, 255, 101, 110, 116, 95, 105, 255, 110, 99, 255, 114, 101, 109, 101, 110, 116, 255, 0, 255, 0, 0, 0, 0, 0, 0, 0, 247, 255, 0, 0, 0, 0, 0, 0, 0, 0, 247], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:43:27.734 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798408798765073, conflict_ts: 396798409453862915, key: [116, 128, 0, 0, 0, 0, 0, 0, 255, 13, 95, 105, 128, 0, 0, 0, 0, 255, 0, 0, 1, 1, 109, 121, 105, 115, 255, 97, 109, 95, 114, 255, 101, 112, 97, 255, 105, 114, 95, 116, 104, 255, 114, 101, 255, 97, 100, 115, 0, 0, 0, 252, 0, 254], primary: [116, 128, 0, 0, 0, 0, 0, 0, 5, 95, 105, 128, 0, 0, 0, 0, 0, 0, 1, 1, 37, 0, 0, 0, 0, 0, 0, 0, 248, 1, 114, 111, 111, 116, 0, 0, 0, 0, 251] }))
2017/12/19 06:44:22.295 kv.rs:1046: [WARN] txn conflicts: Txn(Mvcc(WriteConflict { start_ts: 396798423793139725, conflict_ts: 396798423793139727, key: [109, 68, 66, 58, 50, 55, 0, 0, 255, 0, 252, 0, 0, 0, 0, 0, 0, 255, 0, 104, 84, 73, 68, 58, 50, 57, 255, 0, 0, 253, 0, 0, 0, 0, 0, 250], primary: [109, 68, 66, 58, 50, 55, 0, 0, 0, 252, 0, 0, 0, 0, 0, 0, 0, 104, 84, 73, 68, 58, 50, 57, 0, 0, 253] }))
2017/12/19 06:45:50.798 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1570], error Request(message: "peer is not leader" not_leader {region_id: 2 leader {id: 28 store_id: 4}})
2017/12/19 06:45:50.802 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1571], error Request(message: "peer is not leader" not_leader {region_id: 2 leader {id: 28 store_id: 4}})
2017/12/19 06:46:38.636 util.rs:248: [ERROR] request failed: Grpc(RpcFailure(RpcStatus { status: Unknown, details: Some("rpc error: code = Unavailable desc = not leader") }))
2017/12/19 06:46:38.636 util.rs:248: [ERROR] request failed: Grpc(RpcFailure(RpcStatus { status: Unknown, details: Some("rpc error: code = Unavailable desc = not leader") }))
2017/12/19 06:46:38.637 util.rs:248: [ERROR] request failed: Grpc(RpcFailure(RpcStatus { status: Unknown, details: Some("rpc error: code = Unavailable desc = not leader") }))
2017/12/19 06:46:38.637 util.rs:220: [WARN] updating PD client, block the tokio core
2017/12/19 06:46:39.733 util.rs:182: [WARN] updating PD client done, spent Duration { secs: 1, nanos: 96547707 }
2017/12/19 06:47:19.577 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1690], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:19.880 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1691], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:20.784 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1692], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:21.098 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1693], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:21.402 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1694], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:21.789 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1695], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:22.305 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1696], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:22.607 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1697], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:22.792 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1698], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:22.910 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1699], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:23.308 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1700], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:23.775 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1701], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:23.797 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1702], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:23.814 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1703], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:24.077 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1704], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:24.311 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1705], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:24.800 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1706], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:24.818 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1707], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:24.979 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1708], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:25.315 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1709], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:25.804 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1710], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:25.821 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1711], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:25.980 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1712], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:26.318 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1713], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:26.808 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1714], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:26.824 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1715], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:26.983 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1716], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:27.321 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1717], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:27.811 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1718], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:27.828 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1719], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:27.984 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1720], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:28.324 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1721], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:28.816 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1722], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:28.831 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1723], error Request(message: "peer is not leader" not_leader {region_id: 6})
2017/12/19 06:47:28.986 scheduler.rs:1371: [ERROR] get snapshot failed for cids=[1724], error Request(message: "peer is not leader" not_leader {region_id: 6})
